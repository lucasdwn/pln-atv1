<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot RAG - Grade Curricular DSM</title>
    <style>
        @media print {
            @page {
                size: A4;
                margin: 2cm;
            }
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Arial, sans-serif;
            line-height: 1.7;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background-color: #fff;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 4px solid #3498db;
            padding-bottom: 15px;
            margin: 40px 0 30px 0;
            font-size: 2.5em;
        }
        
        h1:first-child {
            margin-top: 0;
        }
        
        h2 {
            color: #34495e;
            border-bottom: 3px solid #95a5a6;
            padding-bottom: 10px;
            margin: 35px 0 20px 0;
            font-size: 1.8em;
        }
        
        h3 {
            color: #2c3e50;
            margin: 25px 0 15px 0;
            font-size: 1.3em;
        }
        
        p {
            margin: 12px 0;
            text-align: justify;
        }
        
        code {
            background-color: #f4f4f4;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }
        
        pre {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-left: 4px solid #3498db;
            border-radius: 5px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            page-break-inside: avoid;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
            color: #2c3e50;
            font-size: 0.85em;
            line-height: 1.5;
        }
        
        ul, ol {
            margin: 15px 0 15px 30px;
        }
        
        li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        strong {
            color: #2c3e50;
            font-weight: 600;
        }
        
        hr {
            border: none;
            border-top: 2px solid #ecf0f1;
            margin: 40px 0;
        }
        
        a {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        .toc {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px 30px;
            margin: 30px 0;
            border-radius: 5px;
        }
        
        .toc ul {
            list-style: none;
            margin: 10px 0;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .badge {
            display: inline-block;
            padding: 2px 8px;
            background-color: #3498db;
            color: white;
            border-radius: 3px;
            font-size: 0.85em;
            margin-right: 5px;
        }
        
        .section {
            margin: 30px 0;
        }
        
        .code-title {
            background-color: #34495e;
            color: white;
            padding: 8px 15px;
            border-radius: 5px 5px 0 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9em;
            margin-bottom: -1px;
        }
        
        .interaction {
            background-color: #f8f9fa;
            border-left: 4px solid #27ae60;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .interaction p {
            margin: 10px 0;
        }
        
        .user-question {
            color: #2c3e50;
            font-weight: 600;
        }
        
        .bot-answer {
            color: #555;
            margin-left: 20px;
        }
        
        .evidence {
            margin: 30px 0;
            page-break-inside: avoid;
        }
        
        .evidence h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .evidence img {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .tech-list {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .footer {
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
        }
        
        @media print {
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body>
    <h1>Chatbot RAG - Grade Curricular DSM</h1>
    
    <p>Sistema de chatbot inteligente com RAG (Retrieval-Augmented Generation) para responder perguntas sobre a grade curricular do curso de Desenvolvimento de Software Multiplataforma (DSM).</p>
    
    <div class="toc">
        <h2>üìã √çndice</h2>
        <ul>
            <li><a href="#sobre">Sobre o Projeto</a></li>
            <li><a href="#modelo">Modelo de Linguagem (LLM)</a></li>
            <li><a href="#rag">Implementa√ß√£o do RAG</a></li>
            <li><a href="#limitacoes">Limita√ß√µes</a></li>
            <li><a href="#rodar">Como Rodar o Projeto</a></li>
            <li><a href="#utilizar">Como Utilizar</a></li>
            <li><a href="#dialogo">Exemplo de Di√°logo</a></li>
            <li><a href="#evidencias">Evid√™ncias</a></li>
        </ul>
    </div>
    
    <hr>
    
    <section id="sobre" class="section">
        <h2>üéØ Sobre o Projeto</h2>
        <p>Este projeto implementa um chatbot baseado em RAG (Retrieval-Augmented Generation) que utiliza:</p>
        <ul>
            <li><strong>LLM local</strong>: Google Flan-T5 Large para gera√ß√£o de respostas</li>
            <li><strong>Embeddings</strong>: sentence-transformers para busca sem√¢ntica</li>
            <li><strong>Banco vetorial</strong>: FAISS para indexa√ß√£o e recupera√ß√£o eficiente</li>
            <li><strong>API REST</strong>: FastAPI para interface de comunica√ß√£o</li>
        </ul>
        <p>O sistema carrega automaticamente a base de conhecimento sobre a grade DSM e responde perguntas de forma contextualizada.</p>
    </section>
    
    <hr>
    
    <section id="modelo" class="section">
        <h2>ü§ñ Modelo de Linguagem (LLM)</h2>
        
        <h3>Modelo Escolhido: <strong>Google Flan-T5 Large</strong></h3>
        
        <h3>Por que Flan-T5?</h3>
        <ol>
            <li><strong>Gratuito e Open Source</strong>: Totalmente gratuito, sem custos de API</li>
            <li><strong>Execu√ß√£o Local</strong>: Roda localmente, garantindo privacidade dos dados</li>
            <li><strong>Otimizado para Instru√ß√µes</strong>: Treinado especificamente para seguir instru√ß√µes (instruction-tuned)</li>
            <li><strong>Tamanho Balanceado</strong>: 780M par√¢metros - bom equil√≠brio entre qualidade e performance</li>
            <li><strong>Multil√≠ngue</strong>: Suporta portugu√™s, ideal para conte√∫do em PT-BR</li>
            <li><strong>Baixa Lat√™ncia</strong>: Respostas r√°pidas mesmo em hardware comum</li>
        </ol>
        
        <h3>Especifica√ß√µes T√©cnicas:</h3>
        <ul>
            <li><strong>Arquitetura</strong>: Transformer encoder-decoder (T5)</li>
            <li><strong>Par√¢metros</strong>: 780 milh√µes</li>
            <li><strong>Contexto</strong>: At√© 512 tokens de entrada</li>
            <li><strong>Framework</strong>: Hugging Face Transformers + PyTorch</li>
        </ul>
    </section>
    
    <hr>
    
    <section id="rag" class="section">
        <h2>üîç Implementa√ß√£o do RAG</h2>
        <p>O sistema RAG (Retrieval-Augmented Generation) foi implementado em 3 etapas:</p>
        
        <h3>1. Indexa√ß√£o (Pr√©-ingest Autom√°tico)</h3>
        <p>Na inicializa√ß√£o, o sistema:</p>
        <ul>
            <li>Carrega o arquivo <code>dsm_data.txt</code> com a grade curricular</li>
            <li>Divide o conte√∫do em chunks inteligentes:
                <ul>
                    <li>Se√ß√µes por semestre (1¬∫, 2¬∫, 3¬∫)</li>
                    <li>Disciplinas individuais com descri√ß√µes</li>
                </ul>
            </li>
            <li>Gera embeddings usando <code>sentence-transformers/all-MiniLM-L6-v2</code></li>
            <li>Indexa no FAISS (IndexFlatIP com inner product)</li>
        </ul>
        
        <div class="code-title">Python</div>
        <pre><code># Exemplo simplificado
vec = embedder.encode([chunk], normalize_embeddings=True)
index.add(vec)
documents.append(chunk)</code></pre>
        
        <h3>2. Recupera√ß√£o (Retrieval)</h3>
        <p>Quando uma pergunta chega:</p>
        <ul>
            <li>Converte a pergunta em embedding vetorial</li>
            <li>Busca no FAISS o documento mais similar (k=1)</li>
            <li>Recupera o contexto relevante da base de conhecimento</li>
        </ul>
        
        <div class="code-title">Python</div>
        <pre><code>q_vec = embedder.encode([question], normalize_embeddings=True)
D, I = index.search(q_vec, 1)  # Top-1 similar
context = documents[I[0][0]]</code></pre>
        
        <h3>3. Gera√ß√£o (Augmented Generation)</h3>
        <ul>
            <li>Monta um prompt estruturado com contexto + pergunta</li>
            <li>Envia para o Flan-T5 Large</li>
            <li>Gera resposta contextualizada baseada no conhecimento recuperado</li>
        </ul>
        
        <div class="code-title">Python</div>
        <pre><code>prompt = f"""Use o contexto abaixo para responder √† pergunta de forma clara e direta.

Contexto:
{context}

Pergunta:
{question}

Resposta:"""</code></pre>
        
        <h3>Par√¢metros de Gera√ß√£o:</h3>
        <ul>
            <li><code>max_new_tokens=200</code>: Respostas concisas</li>
            <li><code>temperature=0.7</code>: Equil√≠brio entre criatividade e precis√£o</li>
            <li><code>top_p=0.9</code>: Nucleus sampling para qualidade</li>
        </ul>
    </section>
    
    <hr>
    
    <section id="limitacoes" class="section">
        <h2>‚ö†Ô∏è Limita√ß√µes</h2>
        
        <h3>1. Capacidade do Modelo</h3>
        <ul>
            <li>Flan-T5 Large tem 780M par√¢metros (menor que GPT-3.5/GPT-4)</li>
            <li>Pode gerar respostas menos sofisticadas em perguntas complexas</li>
            <li>Limitado a 512 tokens de contexto</li>
        </ul>
        
        <h3>2. Busca Vetorial</h3>
        <ul>
            <li>Recupera apenas 1 documento (k=1) por consulta</li>
            <li>Pode perder informa√ß√µes relevantes em outros chunks</li>
            <li>N√£o faz fus√£o de m√∫ltiplas fontes</li>
        </ul>
        
        <h3>3. Base de Conhecimento</h3>
        <ul>
            <li>Limitada √†s informa√ß√µes no <code>dsm_data.txt</code></li>
            <li>N√£o tem conhecimento al√©m da grade curricular fornecida</li>
            <li>N√£o se atualiza automaticamente</li>
        </ul>
        
        <h3>4. Performance</h3>
        <ul>
            <li>Primeira execu√ß√£o baixa modelos (~3GB) - pode demorar</li>
            <li>Requer pelo menos 4GB de RAM dispon√≠vel</li>
            <li>CPU-only pode ser lento (GPU recomendada)</li>
        </ul>
        
        <h3>5. Idioma</h3>
        <ul>
            <li>Apesar de multil√≠ngue, pode misturar ingl√™s/portugu√™s ocasionalmente</li>
            <li>Melhor desempenho em ingl√™s que portugu√™s</li>
        </ul>
        
        <h3>6. Escalabilidade</h3>
        <ul>
            <li>FAISS em mem√≥ria - perde dados ao reiniciar</li>
            <li>N√£o persiste o √≠ndice vetorial</li>
            <li>N√£o suporta m√∫ltiplos usu√°rios concorrentes eficientemente</li>
        </ul>
    </section>
    
    <hr>
    
    <section id="rodar" class="section">
        <h2>üöÄ Como Rodar o Projeto</h2>
        
        <h3>1. Criar Ambiente Virtual</h3>
        <div class="code-title">PowerShell</div>
        <pre><code># Criar ambiente virtual
python -m venv .venv

# Ativar ambiente
.venv\Scripts\activate    # Windows (PowerShell)</code></pre>
        
        <h3>2. Instalar Depend√™ncias</h3>
        <div class="code-title">PowerShell</div>
        <pre><code>pip install -r requirements.txt</code></pre>
        <p><strong>Nota</strong>: A primeira execu√ß√£o baixar√° os modelos (~3GB). Aguarde a conclus√£o.</p>
        
        <h3>3. Rodar Aplica√ß√£o</h3>
        <div class="code-title">PowerShell</div>
        <pre><code>uvicorn app:app --reload --port 8000</code></pre>
        
        <p>Voc√™ ver√° as mensagens:</p>
        <pre><code>üîÑ Carregando modelo...
üìö Carregando dados do arquivo dsm_data.txt...
‚úÖ Pr√©-ingest conclu√≠do! X documentos indexados.</code></pre>
        
        <p>A API estar√° dispon√≠vel em: <code>http://localhost:8000</code></p>
    </section>
    
    <hr>
    
    <section id="utilizar" class="section">
        <h2>üí° Como Utilizar</h2>
        
        <h3>Fazer Perguntas (Endpoint /ask)</h3>
        <p>O sistema j√° vem com a base DSM pr√©-carregada. Basta fazer perguntas!</p>
        
        <p><strong>Exemplo de requisi√ß√£o:</strong></p>
        <div class="code-title">HTTP</div>
        <pre><code>POST http://localhost:8000/ask
Content-Type: application/json

{
    "question": "Quais s√£o as disciplinas do 1¬∫ semestre?"
}</code></pre>
        
        <p><strong>Mais exemplos est√£o dispon√≠veis no arquivo <code>request.http</code></strong></p>
        
        <h3>Adicionar Novos Dados (Endpoint /ingest) - Opcional</h3>
        <p>Caso queira adicionar informa√ß√µes adicionais:</p>
        <div class="code-title">HTTP</div>
        <pre><code>POST http://localhost:8000/ingest
Content-Type: application/json

{
    "text": "Texto adicional sobre o curso DSM..."
}</code></pre>
        
        <h3>Verificar Status (Endpoint /health)</h3>
        <div class="code-title">HTTP</div>
        <pre><code>GET http://localhost:8000/health</code></pre>
    </section>
    
    <hr>
    
    <section id="dialogo" class="section">
        <h2>üí¨ Exemplo de Di√°logo (5 Intera√ß√µes)</h2>
        
        <div class="interaction">
            <h3>Intera√ß√£o 1</h3>
            <p class="user-question"><strong>Usu√°rio:</strong> "Quais s√£o as disciplinas do 1¬∫ semestre do curso DSM?"</p>
            <p class="bot-answer"><strong>Chatbot:</strong> "O 1¬∫ semestre do curso DSM possui 6 disciplinas: IAL010 ‚Äì Algoritmos e L√≥gica de Programa√ß√£o, ISO011 ‚Äì Sistemas Operacionais e Redes de Computadores, IBD014 ‚Äì Modelagem de Banco de Dados, ISW028 ‚Äì Desenvolvimento Web I, IES011 ‚Äì Engenharia de Software I, e ISW031 ‚Äì Design Digital."</p>
        </div>
        
        <div class="interaction">
            <h3>Intera√ß√£o 2</h3>
            <p class="user-question"><strong>Usu√°rio:</strong> "O que √© ensinado em Algoritmos e L√≥gica de Programa√ß√£o?"</p>
            <p class="bot-answer"><strong>Chatbot:</strong> "IAL010 ‚Äì Algoritmos e L√≥gica de Programa√ß√£o √© a disciplina fundamental que ensina os conceitos b√°sicos de algoritmos, estruturas de controle, vari√°veis e l√≥gica de programa√ß√£o. √â a base para o desenvolvimento de software no curso."</p>
        </div>
        
        <div class="interaction">
            <h3>Intera√ß√£o 3</h3>
            <p class="user-question"><strong>Usu√°rio:</strong> "Quais disciplinas de banco de dados tem no curso?"</p>
            <p class="bot-answer"><strong>Chatbot:</strong> "O curso DSM possui tr√™s disciplinas de banco de dados: IBD014 ‚Äì Modelagem de Banco de Dados no 1¬∫ semestre, que ensina diagrama entidade-relacionamento e normaliza√ß√£o; IBD015 ‚Äì Banco de Dados Relacional no 2¬∫ semestre, focado em SQL e PostgreSQL; e IBD016 ‚Äì Banco de Dados N√£o Relacional no 3¬∫ semestre, que estuda MongoDB e bancos NoSQL."</p>
        </div>
        
        <div class="interaction">
            <h3>Intera√ß√£o 4</h3>
            <p class="user-question"><strong>Usu√°rio:</strong> "O que √© estudado em Desenvolvimento Web II?"</p>
            <p class="bot-answer"><strong>Chatbot:</strong> "ISW029 ‚Äì Desenvolvimento Web II √© uma disciplina do 2¬∫ semestre que avan√ßa no desenvolvimento web com frameworks JavaScript modernos como React, Vue.js ou Angular, al√©m de trabalhar com APIs RESTful e arquitetura frontend."</p>
        </div>
        
        <div class="interaction">
            <h3>Intera√ß√£o 5</h3>
            <p class="user-question"><strong>Usu√°rio:</strong> "O que √© MongoDB e em qual semestre √© estudado?"</p>
            <p class="bot-answer"><strong>Chatbot:</strong> "MongoDB √© um banco de dados NoSQL estudado na disciplina IBD016 ‚Äì Banco de Dados N√£o Relacional, oferecida no 3¬∫ semestre do curso DSM. A disciplina aborda modelagem de dados n√£o relacionais, escalabilidade e performance em bancos NoSQL como MongoDB, Redis e Cassandra."</p>
        </div>
    </section>
    
    <hr>
    
    <section id="evidencias" class="section">
        <h2>üì∏ Evid√™ncias</h2>
        
        <div class="evidence">
            <h3>Pr√©-ingest Autom√°tico</h3>
            <p>O sistema carrega automaticamente a base de conhecimento DSM na inicializa√ß√£o.</p>
            <img src="./prints/ingest.png" alt="Ingest">
        </div>
        
        <div class="evidence">
            <h3>Pergunta 1 - Disciplinas do 1¬∫ Semestre</h3>
            <img src="./prints/question.png" alt="Question">
        </div>
        
        <div class="evidence">
            <h3>Pergunta 2 - Algoritmos e L√≥gica de Programa√ß√£o</h3>
            <img src="./prints/ask2.png" alt="Ask 2">
        </div>
        
        <div class="evidence">
            <h3>Pergunta 3 - Disciplinas de Banco de Dados</h3>
            <img src="./prints/ask3.png" alt="Ask 3">
        </div>
        
        <div class="evidence">
            <h3>Pergunta 4 - Desenvolvimento Web II</h3>
            <img src="./prints/ask4.png" alt="Ask 4">
        </div>
        
        <div class="evidence">
            <h3>Pergunta 5 - MongoDB</h3>
            <img src="./prints/ask5.png" alt="Ask 5">
        </div>
    </section>
    
    <hr>
    
    <section class="section">
        <h2>üì¶ Tecnologias Utilizadas</h2>
        <div class="tech-list">
            <ul>
                <li><strong>Python 3.8+</strong></li>
                <li><strong>FastAPI</strong>: Framework web ass√≠ncrono</li>
                <li><strong>Transformers (Hugging Face)</strong>: LLM Flan-T5</li>
                <li><strong>Sentence-Transformers</strong>: Embeddings sem√¢nticos</li>
                <li><strong>FAISS</strong>: Busca vetorial eficiente</li>
                <li><strong>PyTorch</strong>: Backend de deep learning</li>
                <li><strong>Uvicorn</strong>: Servidor ASGI</li>
            </ul>
        </div>
    </section>
    
    <hr>
    
    <section class="section">
        <h2>üë®‚Äçüíª Autor</h2>
        <p>Projeto desenvolvido como atividade da disciplina de Processamento de Linguagem Natural (PLN).</p>
        <p><strong>Reposit√≥rio:</strong> <a href="https://github.com/lucasdwn/pln-atv1" target="_blank">lucasdwn/pln-atv1</a></p>
    </section>
    
    <div class="footer no-print">
        <hr>
        <p><strong>üí° Dica:</strong> Para salvar como PDF, pressione <code>Ctrl+P</code> e selecione "Salvar como PDF"</p>
        <p style="margin-top: 10px; color: #bdc3c7; font-size: 0.85em;">Documento gerado automaticamente ‚Ä¢ Dezembro 2025</p>
    </div>
</body>
</html>